const { ContextMenuInteraction } = require('discord.js');
const { Modal, TextInputComponent, showModal } = require('discord-modals');

const discordModals = require('discord-modals');

module.exports = {
    name: `test`,
    description: `dummy command for testing stuff`,
    permission: `MANAGE_MESSAGES`,
    cooldown: 30,
    type: `CHAT_INPUT`,
    /**
     * 
     * @param {ContextMenuInteraction} interaction 
     */
    async execute(interaction) {
        const { client } = interaction;

        discordModals(client);

        const modal = new Modal()
            .setCustomId('modal-customid')
            .setTitle('CreatorHub - Report A User')
            .addComponents(
                new TextInputComponent()
                    .setCustomId('username')
                    .setLabel('Username')
                    .setStyle('SHORT')
                    .setMinLength(1)
                    .setMaxLength(32)
                    .setPlaceholder('Enter a username here')
                    .setRequired(true)
            )
            .addComponents(
                new TextInputComponent()
                    .setCustomId('reason')
                    .setLabel('Reason')
                    .setStyle('LONG')
                    .setMinLength(1)
                    .setMaxLength(256)
                    .setPlaceholder('Enter a reason here')
                    .setRequired(true)
            )

        showModal(modal, {
            client: client,
            interaction: interaction
        });
    }
}